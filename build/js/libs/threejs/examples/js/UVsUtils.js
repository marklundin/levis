THREE.UVsUtils={};THREE.UVsUtils.CylinderUVGenerator=function(){this.uRepeat=1;this.targetGeometry=null;this.lengthCache=null};THREE.UVsUtils.CylinderUVGenerator.prototype={generateTopUV:THREE.ExtrudeGeometry.WorldUVGenerator.generateTopUV,generateBottomUV:THREE.ExtrudeGeometry.WorldUVGenerator.generateBottomUV,generateSideWallUV:function(e,t,i,r,n,o,a,s,l,h,c,u){if(this.targetGeometry!==e)this.prepare(e,i);var f=this.lengthCache;var d=l/h;var p=(l+1)/h;var m=f[c];var v=f[u];if(v>m)m+=1;m*=this.uRepeat;v*=this.uRepeat;return[new THREE.Vector2(m,d),new THREE.Vector2(v,d),new THREE.Vector2(v,p),new THREE.Vector2(m,p)]},prepare:function(e,t){var i,r;var n=[];var o=0;var a=t.length;for(var s=0;a>s;s++){i=t[s];r=t[(s+1)%a];var l=i.x-r.x;var h=i.y-r.y;var c=Math.sqrt(l*l+h*h);n.push(o);o+=c}this.normalizeArray(n,o);this.targetGeometry=e;this.lengthCache=n},normalizeArray:function(e,t){var i=e.length;for(var r=0;i>r;r++)e[r]/=t;return e}};THREE.UVsDebug=function(e,t){var i="abcd";var r,n;var o,a,s,l;var h;var c=new THREE.Vector2;var u=new THREE.Vector2;var f=e.faces;var d=e.faceVertexUvs[0];var p=document.createElement("canvas");var m=t||1024;var v=t||1024;p.width=m;p.height=v;var g=p.getContext("2d");g.lineWidth=2;g.strokeStyle="rgba( 0, 0, 0, 1.0 )";g.textAlign="center";g.fillStyle="rgba( 255, 255, 255, 1.0 )";g.fillRect(0,0,m,v);for(o=0,a=d.length;a>o;o++){r=d[o];g.beginPath();c.set(0,0);for(s=0,l=r.length;l>s;s++){n=r[s];c.x+=n.x;c.y+=n.y;if(0==s)g.moveTo(n.x*m,(1-n.y)*v);else g.lineTo(n.x*m,(1-n.y)*v)}g.closePath();g.stroke();c.divideScalar(l);g.font="12pt Arial bold";g.fillStyle="rgba( 0, 0, 0, 1.0 )";g.fillText(o,c.x*m,(1-c.y)*v);if(c.x>.95)g.fillText(o,c.x%1*m,(1-c.y)*v);g.font="8pt Arial bold";g.fillStyle="rgba( 0, 0, 0, 1.0 )";for(s=0,l=r.length;l>s;s++){n=r[s];u.addVectors(c,n).divideScalar(2);h=f[o][i[s]];g.fillText(i[s]+h,u.x*m,(1-u.y)*v);if(u.x>.95)g.fillText(i[s]+h,u.x%1*m,(1-u.y)*v)}}return p};