THREE.UVsUtils={},THREE.UVsUtils.CylinderUVGenerator=function(){this.uRepeat=1,this.targetGeometry=null,this.lengthCache=null},THREE.UVsUtils.CylinderUVGenerator.prototype={generateTopUV:THREE.ExtrudeGeometry.WorldUVGenerator.generateTopUV,generateBottomUV:THREE.ExtrudeGeometry.WorldUVGenerator.generateBottomUV,generateSideWallUV:function(e,t,i,r,n,o,a,s,l,h,c,u){this.targetGeometry!==e&&this.prepare(e,i);var d=this.lengthCache,p=l/h,f=(l+1)/h,m=d[c],g=d[u];return g>m&&(m+=1),m*=this.uRepeat,g*=this.uRepeat,[new THREE.Vector2(m,p),new THREE.Vector2(g,p),new THREE.Vector2(g,f),new THREE.Vector2(m,f)]},prepare:function(e,t){for(var i,r,n=[],o=0,a=t.length,s=0;a>s;s++){i=t[s],r=t[(s+1)%a];var l=i.x-r.x,h=i.y-r.y,c=Math.sqrt(l*l+h*h);n.push(o),o+=c}this.normalizeArray(n,o),this.targetGeometry=e,this.lengthCache=n},normalizeArray:function(e,t){for(var i=e.length,r=0;i>r;r++)e[r]/=t;return e}},THREE.UVsDebug=function(e,t){var i,r,n,o,a,s,l,h="abcd",c=new THREE.Vector2,u=new THREE.Vector2,d=e.faces,p=e.faceVertexUvs[0],f=document.createElement("canvas"),m=t||1024,g=t||1024;f.width=m,f.height=g;var v=f.getContext("2d");for(v.lineWidth=2,v.strokeStyle="rgba( 0, 0, 0, 1.0 )",v.textAlign="center",v.fillStyle="rgba( 255, 255, 255, 1.0 )",v.fillRect(0,0,m,g),n=0,o=p.length;o>n;n++){for(i=p[n],v.beginPath(),c.set(0,0),a=0,s=i.length;s>a;a++)r=i[a],c.x+=r.x,c.y+=r.y,0==a?v.moveTo(r.x*m,(1-r.y)*g):v.lineTo(r.x*m,(1-r.y)*g);for(v.closePath(),v.stroke(),c.divideScalar(s),v.font="12pt Arial bold",v.fillStyle="rgba( 0, 0, 0, 1.0 )",v.fillText(n,c.x*m,(1-c.y)*g),c.x>.95&&v.fillText(n,c.x%1*m,(1-c.y)*g),v.font="8pt Arial bold",v.fillStyle="rgba( 0, 0, 0, 1.0 )",a=0,s=i.length;s>a;a++)r=i[a],u.addVectors(c,r).divideScalar(2),l=d[n][h[a]],v.fillText(h[a]+l,u.x*m,(1-u.y)*g),u.x>.95&&v.fillText(h[a]+l,u.x%1*m,(1-u.y)*g)}return f};