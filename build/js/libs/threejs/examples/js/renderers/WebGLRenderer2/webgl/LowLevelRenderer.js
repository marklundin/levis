THREE.WebGLRenderer.LowLevelRenderer=function(e){function t(){try{if(!(Ut=Dt.getContext("experimental-webgl",{alpha:Pt,premultipliedAlpha:Nt,antialias:kt,stencil:It,preserveDrawingBuffer:Ft})))throw"Error creating WebGL context."}catch(e){console.error(e)}Vt=Ut.getExtension("OES_texture_float"),jt=Ut.getExtension("OES_standard_derivatives"),Wt=Ut.getExtension("EXT_texture_filter_anisotropic")||Ut.getExtension("MOZ_EXT_texture_filter_anisotropic")||Ut.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),Gt=Ut.getExtension("WEBGL_compressed_texture_s3tc")||Ut.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||Ut.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc"),Vt||console.log("THREE.WebGLRenderer: Float textures not supported."),jt||console.log("THREE.WebGLRenderer: Standard derivatives not supported."),Wt||console.log("THREE.WebGLRenderer: Anisotropic texture filtering not supported."),Gt||console.log("THREE.WebGLRenderer: S3TC compressed textures not supported."),void 0===Ut.getShaderPrecisionFormat&&(Ut.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}function i(){Ut.clearColor(0,0,0,1),Ut.clearDepth(1),Ut.clearStencil(0),Ut.enable(Ut.DEPTH_TEST),Ut.depthFunc(Ut.LEQUAL),Ut.frontFace(Ut.CCW),Ut.cullFace(Ut.BACK),Ut.enable(Ut.CULL_FACE),Ut.enable(Ut.BLEND),Ut.blendEquation(Ut.FUNC_ADD),Ut.blendFunc(Ut.SRC_ALPHA,Ut.ONE_MINUS_SRC_ALPHA),Ut.clearColor(Ot.r,Ot.g,Ot.b,zt)}function r(e){return e===THREE.NearestFilter||e===THREE.NearestMipMapNearestFilter||e===THREE.NearestMipMapLinearFilter?Ut.NEAREST:Ut.LINEAR}function n(){return Ut}function o(){return Dt}function a(){return Lt}function s(){return Xt}function l(){return Yt}function c(){return Qt}function h(){return Vt}function u(){return jt}function d(){return Gt}function p(){return Zt}function f(e,t){Dt.width=e,Dt.height=t,m(0,0,Dt.width,Dt.height)}function m(e,t,i,r){gi=void 0!==e?e:0,vi=void 0!==t?t:0,Ei=void 0!==i?i:Dt.width,yi=void 0!==r?r:Dt.height,Ut.viewport(gi,vi,Ei,yi)}function g(e,t,i,r){Ut.scissor(e,t,i,r)}function v(e){e?Ut.enable(Ut.SCISSOR_TEST):Ut.disable(Ut.SCISSOR_TEST)}function E(e,t){Ot.setHex(e),zt=t,Ut.clearColor(Ot.r,Ot.g,Ot.b,zt)}function y(e,t){Ot.copy(e),zt=t,Ut.clearColor(Ot.r,Ot.g,Ot.b,zt)}function T(){return Ot}function _(){return zt}function b(e,t,i){var r=0;(void 0===e||e)&&(r|=Ut.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=Ut.DEPTH_BUFFER_BIT),(void 0===i||i)&&(r|=Ut.STENCIL_BUFFER_BIT),Ut.clear(r)}function x(e,t,i,r){_t(e),b(t,i,r)}function R(e){Ut.deleteBuffer(e)}function w(e){Ut.deleteTexture(e)}function H(e){Ut.deleteFramebuffer(e)}function S(e){Ut.deleteRenderbuffer(e)}function M(e){Ut.deleteProgram(e)}function C(){return Ut.createBuffer()}function A(e,t){U(e),Ut.bufferData(Ut.ARRAY_BUFFER,t,Ut.STATIC_DRAW)}function D(e,t){V(e),Ut.bufferData(Ut.ELEMENT_ARRAY_BUFFER,t,Ut.STATIC_DRAW)}function L(e,t){U(e),Ut.bufferData(Ut.ARRAY_BUFFER,t,Ut.DYNAMIC_DRAW)}function P(e,t){V(e),Ut.bufferData(Ut.ELEMENT_ARRAY_BUFFER,t,Ut.DYNAMIC_DRAW)}function N(e){Ut.drawArrays(Ut.TRIANGLES,0,e)}function k(e){Ut.drawArrays(Ut.TRIANGLE_STRIP,0,e)}function I(e){Ut.drawArrays(Ut.LINES,0,e)}function F(e){Ut.drawArrays(Ut.LINE_STRIP,0,e)}function O(e){Ut.drawArrays(Ut.POINTS,0,e)}function z(e,t,i){V(e),Ut.drawElements(Ut.TRIANGLES,t,Ut.UNSIGNED_SHORT,i)}function B(e,t,i){V(e),Ut.drawElements(Ut.LINES,t,Ut.UNSIGNED_SHORT,i)}function U(e){ci!=e&&(Ut.bindBuffer(Ut.ARRAY_BUFFER,e),ci=e)}function V(e){ci!=e&&(Ut.bindBuffer(Ut.ELEMENT_ARRAY_BUFFER,e),ci=e)}function j(e){hi[e]||(Ut.enableVertexAttribArray(e),hi[e]=!0)}function W(){for(var e in hi)hi[e]&&(Ut.disableVertexAttribArray(e),hi[e]=!1)}function G(e,t){return Ut.getAttribLocation(e,t)}function X(e,t,i,r){U(t),j(e),Ut.vertexAttribPointer(e,i,Ut.FLOAT,!1,0,r)}function Y(e,t){return Ut.getUniformLocation(e,t)}function q(e,t){Ut.uniform1i(e,t)}function K(e,t){Ut.uniform1f(e,t)}function Z(e,t,i){Ut.uniform2f(e,t,i)}function Q(e,t,i,r){Ut.uniform3f(e,t,i,r)}function $(e,t,i,r,n){Ut.uniform4f(e,t,i,r,n)}function J(e,t){Ut.uniform1iv(e,t)}function et(e,t){Ut.uniform2iv(e,t)}function tt(e,t){Ut.uniform3iv(e,t)}function it(e,t){Ut.uniform1fv(e,t)}function rt(e,t){Ut.uniform2fv(e,t)}function nt(e,t){Ut.uniform3fv(e,t)}function ot(e,t){Ut.uniform3fv(e,t)}function at(e,t){Ut.uniformMatrix3fv(e,!1,t)}function st(e,t){Ut.uniformMatrix4fv(e,!1,t)}function lt(e){Ut.useProgram(e)}function ct(e,t){e===THREE.CullFaceNone?Ut.disable(Ut.CULL_FACE):(t===THREE.FrontFaceDirectionCW?Ut.frontFace(Ut.CW):Ut.frontFace(Ut.CCW),e===THREE.CullFaceBack?Ut.cullFace(Ut.BACK):e===THREE.CullFaceFront?Ut.cullFace(Ut.FRONT):Ut.cullFace(Ut.FRONT_AND_BACK),Ut.enable(Ut.CULL_FACE))}function ht(e){var t=e.side===THREE.DoubleSide,i=e.side===THREE.BackSide;ui!==t&&(t?Ut.disable(Ut.CULL_FACE):Ut.enable(Ut.CULL_FACE),ui=t),di!==i&&(i?Ut.frontFace(Ut.CW):Ut.frontFace(Ut.CCW),di=i)}function ut(e,t,i){Ti!==e&&(e?Ut.enable(Ut.POLYGON_OFFSET_FILL):Ut.disable(Ut.POLYGON_OFFSET_FILL),Ti=e),!e||_i===t&&bi===i||(Ut.polygonOffset(t,i),_i=t,bi=i)}function dt(e,t,i,r){e!==oi&&(e===THREE.NoBlending?Ut.disable(Ut.BLEND):e===THREE.AdditiveBlending?(Ut.enable(Ut.BLEND),Ut.blendEquation(Ut.FUNC_ADD),Ut.blendFunc(Ut.SRC_ALPHA,Ut.ONE)):e===THREE.SubtractiveBlending?(Ut.enable(Ut.BLEND),Ut.blendEquation(Ut.FUNC_ADD),Ut.blendFunc(Ut.ZERO,Ut.ONE_MINUS_SRC_COLOR)):e===THREE.MultiplyBlending?(Ut.enable(Ut.BLEND),Ut.blendEquation(Ut.FUNC_ADD),Ut.blendFunc(Ut.ZERO,Ut.SRC_COLOR)):e===THREE.CustomBlending?Ut.enable(Ut.BLEND):(Ut.enable(Ut.BLEND),Ut.blendEquationSeparate(Ut.FUNC_ADD,Ut.FUNC_ADD),Ut.blendFuncSeparate(Ut.SRC_ALPHA,Ut.ONE_MINUS_SRC_ALPHA,Ut.ONE,Ut.ONE_MINUS_SRC_ALPHA)),oi=e),e===THREE.CustomBlending?(t!==ai&&(Ut.blendEquation(wt(t)),ai=t),(i!==si||r!==li)&&(Ut.blendFunc(wt(i),wt(r)),si=i,li=r)):(ai=null,si=null,li=null)}function pt(e){pi!==e&&(e?Ut.enable(Ut.DEPTH_TEST):Ut.disable(Ut.DEPTH_TEST),pi=e)}function ft(e){fi!==e&&(Ut.depthMask(e),fi=e)}function mt(e,t){if(e.needsUpdate){e.__webglInit||(e.__webglInit=!0,e.__webglTexture=Ut.createTexture()),Ut.activeTexture(Ut.TEXTURE0+t),Ut.bindTexture(Ut.TEXTURE_2D,e.__webglTexture),Ut.pixelStorei(Ut.UNPACK_FLIP_Y_WEBGL,e.flipY),Ut.pixelStorei(Ut.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),Ut.pixelStorei(Ut.UNPACK_ALIGNMENT,e.unpackAlignment);var i=e.image,r=vt(i.width)&&vt(i.height),n=wt(e.format),o=wt(e.type);Et(Ut.TEXTURE_2D,e,r);var a,s=e.mipmaps;if(e instanceof THREE.DataTexture)if(s.length>0&&r){for(var l=0,c=s.length;c>l;l++)a=s[l],Ut.texImage2D(Ut.TEXTURE_2D,l,n,a.width,a.height,0,n,o,a.data);e.generateMipmaps=!1}else Ut.texImage2D(Ut.TEXTURE_2D,0,n,i.width,i.height,0,n,o,i.data);else if(e instanceof THREE.CompressedTexture)for(var l=0,c=s.length;c>l;l++)a=s[l],Ut.compressedTexImage2D(Ut.TEXTURE_2D,l,n,a.width,a.height,0,a.data);else if(s.length>0&&r){for(var l=0,c=s.length;c>l;l++)a=s[l],Ut.texImage2D(Ut.TEXTURE_2D,l,n,n,o,a);e.generateMipmaps=!1}else Ut.texImage2D(Ut.TEXTURE_2D,0,n,n,o,e.image);e.generateMipmaps&&r&&Ut.generateMipmap(Ut.TEXTURE_2D),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()}else Ut.activeTexture(Ut.TEXTURE0+t),Ut.bindTexture(Ut.TEXTURE_2D,e.__webglTexture)}function gt(e,t){if(6===e.image.length)if(e.needsUpdate){e.image.__webglTextureCube||(e.image.__webglTextureCube=Ut.createTexture()),Ut.activeTexture(Ut.TEXTURE0+t),Ut.bindTexture(Ut.TEXTURE_CUBE_MAP,e.image.__webglTextureCube),Ut.pixelStorei(Ut.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var i=e instanceof THREE.CompressedTexture,r=[],n=0;6>n;n++)r[n]=Bt&&!i?bt(e.image[n],Kt):e.image[n];var o=r[0],a=vt(o.width)&&vt(o.height),s=wt(e.format),l=wt(e.type);Et(Ut.TEXTURE_CUBE_MAP,e,a);for(var n=0;6>n;n++)if(i)for(var c,h=r[n].mipmaps,u=0,d=h.length;d>u;u++)c=h[u],Ut.compressedTexImage2D(Ut.TEXTURE_CUBE_MAP_POSITIVE_X+n,u,s,c.width,c.height,0,c.data);else Ut.texImage2D(Ut.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,s,s,l,r[n]);e.generateMipmaps&&a&&Ut.generateMipmap(Ut.TEXTURE_CUBE_MAP),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()}else Ut.activeTexture(Ut.TEXTURE0+t),Ut.bindTexture(Ut.TEXTURE_CUBE_MAP,e.image.__webglTextureCube)}function vt(e){return 0===(e&e-1)}function Et(e,t,i){i?(Ut.texParameteri(e,Ut.TEXTURE_WRAP_S,wt(t.wrapS)),Ut.texParameteri(e,Ut.TEXTURE_WRAP_T,wt(t.wrapT)),Ut.texParameteri(e,Ut.TEXTURE_MAG_FILTER,wt(t.magFilter)),Ut.texParameteri(e,Ut.TEXTURE_MIN_FILTER,wt(t.minFilter))):(Ut.texParameteri(e,Ut.TEXTURE_WRAP_S,Ut.CLAMP_TO_EDGE),Ut.texParameteri(e,Ut.TEXTURE_WRAP_T,Ut.CLAMP_TO_EDGE),Ut.texParameteri(e,Ut.TEXTURE_MAG_FILTER,r(t.magFilter)),Ut.texParameteri(e,Ut.TEXTURE_MIN_FILTER,r(t.minFilter))),Wt&&t.type!==THREE.FloatType&&(t.anisotropy>1||t.__oldAnisotropy)&&(Ut.texParameterf(e,Wt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,Zt)),t.__oldAnisotropy=t.anisotropy)}function yt(e,t,i){Ut.bindFramebuffer(Ut.FRAMEBUFFER,e),Ut.framebufferTexture2D(Ut.FRAMEBUFFER,Ut.COLOR_ATTACHMENT0,i,t.__webglTexture,0)}function Tt(e,t){Ut.bindRenderbuffer(Ut.RENDERBUFFER,e),t.depthBuffer&&!t.stencilBuffer?(Ut.renderbufferStorage(Ut.RENDERBUFFER,Ut.DEPTH_COMPONENT16,t.width,t.height),Ut.framebufferRenderbuffer(Ut.FRAMEBUFFER,Ut.DEPTH_ATTACHMENT,Ut.RENDERBUFFER,e)):t.depthBuffer&&t.stencilBuffer?(Ut.renderbufferStorage(Ut.RENDERBUFFER,Ut.DEPTH_STENCIL,t.width,t.height),Ut.framebufferRenderbuffer(Ut.FRAMEBUFFER,Ut.DEPTH_STENCIL_ATTACHMENT,Ut.RENDERBUFFER,e)):Ut.renderbufferStorage(Ut.RENDERBUFFER,Ut.RGBA4,t.width,t.height)}function _t(e){var t=e instanceof THREE.WebGLRenderTargetCube;if(e&&!e.__webglFramebuffer){void 0===e.depthBuffer&&(e.depthBuffer=!0),void 0===e.stencilBuffer&&(e.stencilBuffer=!0),e.__webglTexture=Ut.createTexture();var i=vt(e.width)&&vt(e.height),r=wt(e.format),n=wt(e.type);if(t){e.__webglFramebuffer=[],e.__webglRenderbuffer=[],Ut.bindTexture(Ut.TEXTURE_CUBE_MAP,e.__webglTexture),Et(Ut.TEXTURE_CUBE_MAP,e,i);for(var o=0;6>o;o++)e.__webglFramebuffer[o]=Ut.createFramebuffer(),e.__webglRenderbuffer[o]=Ut.createRenderbuffer(),Ut.texImage2D(Ut.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,r,e.width,e.height,0,r,n,null),yt(e.__webglFramebuffer[o],e,Ut.TEXTURE_CUBE_MAP_POSITIVE_X+o),Tt(e.__webglRenderbuffer[o],e);i&&Ut.generateMipmap(Ut.TEXTURE_CUBE_MAP)}else e.__webglFramebuffer=Ut.createFramebuffer(),e.__webglRenderbuffer=e.shareDepthFrom?e.shareDepthFrom.__webglRenderbuffer:Ut.createRenderbuffer(),Ut.bindTexture(Ut.TEXTURE_2D,e.__webglTexture),Et(Ut.TEXTURE_2D,e,i),Ut.texImage2D(Ut.TEXTURE_2D,0,r,e.width,e.height,0,r,n,null),yt(e.__webglFramebuffer,e,Ut.TEXTURE_2D),e.shareDepthFrom?e.depthBuffer&&!e.stencilBuffer?Ut.framebufferRenderbuffer(Ut.FRAMEBUFFER,Ut.DEPTH_ATTACHMENT,Ut.RENDERBUFFER,e.__webglRenderbuffer):e.depthBuffer&&e.stencilBuffer&&Ut.framebufferRenderbuffer(Ut.FRAMEBUFFER,Ut.DEPTH_STENCIL_ATTACHMENT,Ut.RENDERBUFFER,e.__webglRenderbuffer):Tt(e.__webglRenderbuffer,e),i&&Ut.generateMipmap(Ut.TEXTURE_2D);t?Ut.bindTexture(Ut.TEXTURE_CUBE_MAP,null):Ut.bindTexture(Ut.TEXTURE_2D,null),Ut.bindRenderbuffer(Ut.RENDERBUFFER,null),Ut.bindFramebuffer(Ut.FRAMEBUFFER,null)}var a,s,l,c,h;e?(a=t?e.__webglFramebuffer[e.activeCubeFace]:e.__webglFramebuffer,s=e.width,l=e.height,c=0,h=0):(a=null,s=Ei,l=yi,c=gi,h=vi),a!==xi&&(Ut.bindFramebuffer(Ut.FRAMEBUFFER,a),Ut.viewport(c,h,s,l),xi=a),Xt=s,Yt=l}function bt(e,t){if(e.width<=t&&e.height<=t)return e;var i=Math.max(e.width,e.height),r=Math.floor(e.width*t/i),n=Math.floor(e.height*t/i),o=document.createElement("canvas");o.width=r,o.height=n;var a=o.getContext("2d");return a.drawImage(e,0,0,e.width,e.height,0,0,r,n),o}function xt(e){e instanceof THREE.WebGLRenderTargetCube?(Ut.bindTexture(Ut.TEXTURE_CUBE_MAP,e.__webglTexture),Ut.generateMipmap(Ut.TEXTURE_CUBE_MAP),Ut.bindTexture(Ut.TEXTURE_CUBE_MAP,null)):(Ut.bindTexture(Ut.TEXTURE_2D,e.__webglTexture),Ut.generateMipmap(Ut.TEXTURE_2D),Ut.bindTexture(Ut.TEXTURE_2D,null))}function Rt(e,t){Ut.activeTexture(Ut.TEXTURE0+t),Ut.bindTexture(Ut.TEXTURE_CUBE_MAP,e.__webglTexture)}function wt(e){if(e===THREE.RepeatWrapping)return Ut.REPEAT;if(e===THREE.ClampToEdgeWrapping)return Ut.CLAMP_TO_EDGE;if(e===THREE.MirroredRepeatWrapping)return Ut.MIRRORED_REPEAT;if(e===THREE.NearestFilter)return Ut.NEAREST;if(e===THREE.NearestMipMapNearestFilter)return Ut.NEAREST_MIPMAP_NEAREST;if(e===THREE.NearestMipMapLinearFilter)return Ut.NEAREST_MIPMAP_LINEAR;if(e===THREE.LinearFilter)return Ut.LINEAR;if(e===THREE.LinearMipMapNearestFilter)return Ut.LINEAR_MIPMAP_NEAREST;if(e===THREE.LinearMipMapLinearFilter)return Ut.LINEAR_MIPMAP_LINEAR;if(e===THREE.UnsignedByteType)return Ut.UNSIGNED_BYTE;if(e===THREE.UnsignedShort4444Type)return Ut.UNSIGNED_SHORT_4_4_4_4;if(e===THREE.UnsignedShort5551Type)return Ut.UNSIGNED_SHORT_5_5_5_1;if(e===THREE.UnsignedShort565Type)return Ut.UNSIGNED_SHORT_5_6_5;if(e===THREE.ByteType)return Ut.BYTE;if(e===THREE.ShortType)return Ut.SHORT;if(e===THREE.UnsignedShortType)return Ut.UNSIGNED_SHORT;if(e===THREE.IntType)return Ut.INT;if(e===THREE.UnsignedIntType)return Ut.UNSIGNED_INT;if(e===THREE.FloatType)return Ut.FLOAT;if(e===THREE.AlphaFormat)return Ut.ALPHA;if(e===THREE.RGBFormat)return Ut.RGB;if(e===THREE.RGBAFormat)return Ut.RGBA;if(e===THREE.LuminanceFormat)return Ut.LUMINANCE;if(e===THREE.LuminanceAlphaFormat)return Ut.LUMINANCE_ALPHA;if(e===THREE.AddEquation)return Ut.FUNC_ADD;if(e===THREE.SubtractEquation)return Ut.FUNC_SUBTRACT;if(e===THREE.ReverseSubtractEquation)return Ut.FUNC_REVERSE_SUBTRACT;if(e===THREE.ZeroFactor)return Ut.ZERO;if(e===THREE.OneFactor)return Ut.ONE;if(e===THREE.SrcColorFactor)return Ut.SRC_COLOR;if(e===THREE.OneMinusSrcColorFactor)return Ut.ONE_MINUS_SRC_COLOR;if(e===THREE.SrcAlphaFactor)return Ut.SRC_ALPHA;if(e===THREE.OneMinusSrcAlphaFactor)return Ut.ONE_MINUS_SRC_ALPHA;if(e===THREE.DstAlphaFactor)return Ut.DST_ALPHA;if(e===THREE.OneMinusDstAlphaFactor)return Ut.ONE_MINUS_DST_ALPHA;if(e===THREE.DstColorFactor)return Ut.DST_COLOR;if(e===THREE.OneMinusDstColorFactor)return Ut.ONE_MINUS_DST_COLOR;if(e===THREE.SrcAlphaSaturateFactor)return Ut.SRC_ALPHA_SATURATE;if(void 0!==Gt){if(e===THREE.RGB_S3TC_DXT1_Format)return Gt.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===THREE.RGBA_S3TC_DXT1_Format)return Gt.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===THREE.RGBA_S3TC_DXT3_Format)return Gt.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===THREE.RGBA_S3TC_DXT5_Format)return Gt.COMPRESSED_RGBA_S3TC_DXT5_EXT}return 0}function Ht(e,t){var i=Ut.createProgram(),r=Mt("fragment",t),n=Mt("vertex",e);return Ut.attachShader(i,n),Ut.attachShader(i,r),Ut.linkProgram(i),Ut.getProgramParameter(i,Ut.LINK_STATUS)||console.error("Could not initialise shader\nVALIDATE_STATUS: "+Ut.getProgramParameter(i,Ut.VALIDATE_STATUS)+", gl error ["+Ut.getError()+"]"),Ut.deleteShader(r),Ut.deleteShader(n),i}function St(){oi=-1,pi=-1,fi=-1,ui=-1,di=-1}function Mt(e,t){var i;return"fragment"===e?i=Ut.createShader(Ut.FRAGMENT_SHADER):"vertex"===e&&(i=Ut.createShader(Ut.VERTEX_SHADER)),Ut.shaderSource(i,t),Ut.compileShader(i),Ut.getShaderParameter(i,Ut.COMPILE_STATUS)?i:(console.error(Ut.getShaderInfoLog(i)),console.error(Ct(t)),null)}function Ct(e){for(var t=e.split("\n"),i=0,r=t.length;r>i;i++)t[i]=i+1+": "+t[i];return t.join("\n")}function At(e){e!==mi&&(Ut.lineWidth(e),mi=e)}e=e||{};var Dt=void 0!==e.canvas?e.canvas:document.createElement("canvas"),Lt=void 0!==e.precision?e.precision:"highp",Pt=void 0!==e.alpha?e.alpha:!0,Nt=void 0!==e.premultipliedAlpha?e.premultipliedAlpha:!0,kt=void 0!==e.antialias?e.antialias:!1,It=void 0!==e.stencil?e.stencil:!0,Ft=void 0!==e.preserveDrawingBuffer?e.preserveDrawingBuffer:!1,Ot=void 0!==e.clearColor?new THREE.Color(e.clearColor):new THREE.Color(0),zt=void 0!==e.clearAlpha?e.clearAlpha:0,Bt=!0;this.devicePixelRatio=void 0!==e.devicePixelRatio?e.devicePixelRatio:void 0!==window.devicePixelRatio?window.devicePixelRatio:1;var Ut,Vt,jt,Wt,Gt,Xt=0,Yt=0;t(),i(),Ut.getParameter(Ut.MAX_TEXTURE_IMAGE_UNITS);var qt=Ut.getParameter(Ut.MAX_VERTEX_TEXTURE_IMAGE_UNITS);Ut.getParameter(Ut.MAX_TEXTURE_SIZE);var Kt=Ut.getParameter(Ut.MAX_CUBE_MAP_TEXTURE_SIZE),Zt=Wt?Ut.getParameter(Wt.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,Qt=qt>0,$t=Qt&&Vt;Gt?Ut.getParameter(Ut.COMPRESSED_TEXTURE_FORMATS):[];var Jt=Ut.getShaderPrecisionFormat(Ut.VERTEX_SHADER,Ut.HIGH_FLOAT),ei=Ut.getShaderPrecisionFormat(Ut.VERTEX_SHADER,Ut.MEDIUM_FLOAT);Ut.getShaderPrecisionFormat(Ut.VERTEX_SHADER,Ut.LOW_FLOAT);var ti=Ut.getShaderPrecisionFormat(Ut.FRAGMENT_SHADER,Ut.HIGH_FLOAT),ii=Ut.getShaderPrecisionFormat(Ut.FRAGMENT_SHADER,Ut.MEDIUM_FLOAT);Ut.getShaderPrecisionFormat(Ut.FRAGMENT_SHADER,Ut.LOW_FLOAT),Ut.getShaderPrecisionFormat(Ut.VERTEX_SHADER,Ut.HIGH_INT),Ut.getShaderPrecisionFormat(Ut.VERTEX_SHADER,Ut.MEDIUM_INT),Ut.getShaderPrecisionFormat(Ut.VERTEX_SHADER,Ut.LOW_INT),Ut.getShaderPrecisionFormat(Ut.FRAGMENT_SHADER,Ut.HIGH_INT),Ut.getShaderPrecisionFormat(Ut.FRAGMENT_SHADER,Ut.MEDIUM_INT),Ut.getShaderPrecisionFormat(Ut.FRAGMENT_SHADER,Ut.LOW_INT);var ri=Jt.precision>0&&ti.precision>0,ni=ei.precision>0&&ii.precision>0;"highp"!==Lt||ri||(ni?(Lt="mediump",console.warn("WebGLRenderer: highp not supported, using mediump")):(Lt="lowp",console.warn("WebGLRenderer: highp and mediump not supported, using lowp"))),"mediump"!==Lt||ni||(Lt="lowp",console.warn("WebGLRenderer: mediump not supported, using lowp"));var oi,ai,si,li,ci,hi={},ui=-1,di=-1,pi=-1,fi=-1,mi=-1,gi=0,vi=0,Ei=0,yi=0,Ti=null,_i=null,bi=null,xi=null;return{context:Ut,autoScaleCubemaps:Bt,supportsBoneTextures:$t,precision:Lt,maxVertexUniformVectors:Ut.getParameter(Ut.MAX_VERTEX_UNIFORM_VECTORS),getContext:n,getDomElement:o,getPrecision:a,getCurrentWidth:s,getCurrentHeight:l,supportsVertexTextures:c,supportsFloatTextures:h,supportsStandardDerivatives:u,supportsCompressedTextureS3TC:d,getMaxAnisotropy:p,setRenderTarget:_t,setSize:f,setViewport:m,setScissor:g,enableScissorTest:v,setClearColorHex:E,setClearColor:y,getClearColor:T,getClearAlpha:_,clear:b,clearTarget:x,deleteBuffer:R,deleteTexture:w,deleteFramebuffer:H,deleteRenderbuffer:S,deleteProgram:M,createBuffer:C,setStaticArrayBuffer:A,setStaticIndexBuffer:D,setDynamicArrayBuffer:L,setDynamicIndexBuffer:P,drawTriangles:N,drawTriangleStrip:k,drawLines:I,drawLineStrip:F,drawPoints:O,drawTriangleElements:z,drawLineElements:B,bindArrayBuffer:U,bindElementArrayBuffer:V,enableAttribute:j,disableAttributes:W,getAttribLocation:G,setFloatAttribute:X,getUniformLocation:Y,uniform1i:q,uniform1f:K,uniform2f:Z,uniform3f:Q,uniform4f:$,uniform1iv:J,uniform2iv:et,uniform3iv:tt,uniform1fv:it,uniform2fv:rt,uniform3fv:nt,uniform4fv:ot,uniformMatrix3fv:at,uniformMatrix4fv:st,useProgram:lt,compileShader:Ht,setFaceCulling:ct,setMaterialFaces:ht,setPolygonOffset:ut,setBlending:dt,setDepthTest:pt,setDepthWrite:ft,setTexture:mt,setCubeTexture:gt,updateRenderTargetMipmap:xt,setCubeTextureDynamic:Rt,paramThreeToGL:wt,setLineWidth:At,resetState:St}};