THREE.OculusControls=function(e){function t(e,t){return function(){t.apply(e,arguments)}}this.object=e,this.target=new THREE.Vector3(0,0,0),this.headquat=new THREE.Quaternion,this.freeze=!1,this.loadAjaxJSON=function(e,t){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===i.DONE&&(200===i.status||0===i.status)&&i.responseText){var e=JSON.parse(i.responseText);t(e)}},i.open("GET",e,!0),i.withCredentials=!1,i.send(null)},this.gotCoordinates=function(e){this.headquat.set(e.quat.x,e.quat.y,e.quat.z,e.quat.w),this.queuePoll()},this.pollOnce=function(){this.loadAjaxJSON("http://localhost:50000",t(this,this.gotCoordinates))},this.queuePoll=function(){setTimeout(t(this,this.pollOnce),10)},this.update=function(){this.freeze||this.object.quaternion.multiply(this.headquat)},this.connect=function(){this.queuePoll()}};