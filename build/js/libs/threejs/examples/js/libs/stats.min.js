var Stats=function(){var e=Date.now(),t=e,i=0,r=1/0,n=0,o=0,a=1/0,s=0,l=0,h=0,c=document.createElement("div");c.id="stats";c.addEventListener("mousedown",function(e){e.preventDefault();E(++h%2)},!1);c.style.cssText="width:80px;opacity:0.9;cursor:pointer";var u=document.createElement("div");u.id="fps";u.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002";c.appendChild(u);var f=document.createElement("div");f.id="fpsText";f.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px";f.innerHTML="FPS";u.appendChild(f);var d=document.createElement("div");d.id="fpsGraph";d.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff";for(u.appendChild(d);74>d.children.length;){var p=document.createElement("span");p.style.cssText="width:1px;height:30px;float:left;background-color:#113";d.appendChild(p)}var m=document.createElement("div");m.id="ms";m.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none";c.appendChild(m);var v=document.createElement("div");v.id="msText";v.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px";v.innerHTML="MS";m.appendChild(v);var g=document.createElement("div");g.id="msGraph";g.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0";for(m.appendChild(g);74>g.children.length;)p=document.createElement("span"),p.style.cssText="width:1px;height:30px;float:left;background-color:#131",g.appendChild(p);var E=function(e){h=e;switch(h){case 0:u.style.display="block";m.style.display="none";break;case 1:u.style.display="none",m.style.display="block"}};return{REVISION:11,domElement:c,setMode:E,begin:function(){e=Date.now()},end:function(){var h=Date.now();i=h-e;r=Math.min(r,i);n=Math.max(n,i);v.textContent=i+" MS ("+r+"-"+n+")";var c=Math.min(30,30-30*(i/200));g.appendChild(g.firstChild).style.height=c+"px";l++;h>t+1e3&&(o=Math.round(1e3*l/(h-t)),a=Math.min(a,o),s=Math.max(s,o),f.textContent=o+" FPS ("+a+"-"+s+")",c=Math.min(30,30-30*(o/100)),d.appendChild(d.firstChild).style.height=c+"px",t=h,l=0);return h},update:function(){e=this.end()}}};