THREE.Shape=function(){THREE.Path.apply(this,arguments);this.holes=[]};THREE.Shape.prototype=Object.create(THREE.Path.prototype);THREE.Shape.prototype.extrude=function(e){var t=new THREE.ExtrudeGeometry(this,e);return t};THREE.Shape.prototype.makeGeometry=function(e){var t=new THREE.ShapeGeometry(this,e);return t};THREE.Shape.prototype.getPointsHoles=function(e){var t,i=this.holes.length,r=[];for(t=0;i>t;t++)r[t]=this.holes[t].getTransformedPoints(e,this.bends);return r};THREE.Shape.prototype.getSpacedPointsHoles=function(e){var t,i=this.holes.length,r=[];for(t=0;i>t;t++)r[t]=this.holes[t].getTransformedSpacedPoints(e,this.bends);return r};THREE.Shape.prototype.extractAllPoints=function(e){return{shape:this.getTransformedPoints(e),holes:this.getPointsHoles(e)}};THREE.Shape.prototype.extractPoints=function(e){if(this.useSpacedPoints)return this.extractAllSpacedPoints(e);else return this.extractAllPoints(e)};THREE.Shape.prototype.extractAllSpacedPoints=function(e){return{shape:this.getTransformedSpacedPoints(e),holes:this.getSpacedPointsHoles(e)}};THREE.Shape.Utils={removeHoles:function(e,t){var i=e.concat();var r=i.concat();var n,a,o,s,l,c,h,u,f,d,p,m,v,g,E,y,T=[];for(l=0;l<t.length;l++){h=t[l];Array.prototype.push.apply(r,h);u=Number.POSITIVE_INFINITY;for(c=0;c<h.length;c++){p=h[c];var _=[];for(d=0;d<i.length;d++){m=i[d];f=p.distanceToSquared(m);_.push(f);if(u>f){u=f;o=c;s=d}}}n=s-1>=0?s-1:i.length-1;a=o-1>=0?o-1:h.length-1;var x=[h[o],i[s],i[n]];var b=THREE.FontUtils.Triangulate.area(x);var R=[h[o],h[a],i[s]];var w=THREE.FontUtils.Triangulate.area(R);var H=1;var S=-1;var M=s,C=o;s+=H;o+=S;if(0>s)s+=i.length;s%=i.length;if(0>o)o+=h.length;o%=h.length;n=s-1>=0?s-1:i.length-1;a=o-1>=0?o-1:h.length-1;x=[h[o],i[s],i[n]];var A=THREE.FontUtils.Triangulate.area(x);R=[h[o],h[a],i[s]];var D=THREE.FontUtils.Triangulate.area(R);if(b+w>A+D){s=M;o=C;if(0>s)s+=i.length;s%=i.length;if(0>o)o+=h.length;o%=h.length;n=s-1>=0?s-1:i.length-1;a=o-1>=0?o-1:h.length-1}else;v=i.slice(0,s);g=i.slice(s);E=h.slice(o);y=h.slice(0,o);var P=[h[o],i[s],i[n]];var L=[h[o],h[a],i[s]];T.push(P);T.push(L);i=v.concat(E).concat(y).concat(g)}return{shape:i,isolatedPts:T,allpoints:r}},triangulateShape:function(e,t){var i=THREE.Shape.Utils.removeHoles(e,t);var r=i.shape,n=i.allpoints,a=i.isolatedPts;var o=THREE.FontUtils.Triangulate(r,!1);var s,l,c,h,u,f,d={};for(s=0,l=n.length;l>s;s++){u=n[s].x+":"+n[s].y;if(void 0!==d[u])console.log("Duplicate point",u);d[u]=s}for(s=0,l=o.length;l>s;s++){h=o[s];for(c=0;3>c;c++){u=h[c].x+":"+h[c].y;f=d[u];if(void 0!==f)h[c]=f}}for(s=0,l=a.length;l>s;s++){h=a[s];for(c=0;3>c;c++){u=h[c].x+":"+h[c].y;f=d[u];if(void 0!==f)h[c]=f}}return o.concat(a)},isClockWise:function(e){return THREE.FontUtils.Triangulate.area(e)<0},b2p0:function(e,t){var i=1-e;return i*i*t},b2p1:function(e,t){return 2*(1-e)*e*t},b2p2:function(e,t){return e*e*t},b2:function(e,t,i,r){return this.b2p0(e,t)+this.b2p1(e,i)+this.b2p2(e,r)},b3p0:function(e,t){var i=1-e;return i*i*i*t},b3p1:function(e,t){var i=1-e;return 3*i*i*e*t},b3p2:function(e,t){var i=1-e;return 3*i*e*e*t},b3p3:function(e,t){return e*e*e*t},b3:function(e,t,i,r,n){return this.b3p0(e,t)+this.b3p1(e,i)+this.b3p2(e,r)+this.b3p3(e,n)}};