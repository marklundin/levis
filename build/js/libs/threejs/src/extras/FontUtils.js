THREE.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){return this.faces[this.face][this.weight][this.style]},loadFace:function(e){var t=e.familyName.toLowerCase(),i=this;return i.faces[t]=i.faces[t]||{},i.faces[t][e.cssFontWeight]=i.faces[t][e.cssFontWeight]||{},i.faces[t][e.cssFontWeight][e.cssFontStyle]=e,i.faces[t][e.cssFontWeight][e.cssFontStyle]=e,e},drawText:function(e){var t,i=this.getFace(),r=this.size/i.resolution,n=0,o=String(e).split(""),a=o.length,s=[];for(t=0;a>t;t++){var l=new THREE.Path,c=this.extractGlyphPoints(o[t],i,r,n,l);n+=c.offset,s.push(c.path)}var h=n/2;return{paths:s,offset:h}},extractGlyphPoints:function(e,t,i,r,n){var o,a,s,l,c,h,u,d,p,f,m,v,g,E,y,T,_,b,x,R=[],w=t.glyphs[e]||t.glyphs["?"];if(w){if(w.o)for(l=w._cachedOutline||(w._cachedOutline=w.o.split(" ")),h=l.length,u=i,d=i,o=0;h>o;)switch(c=l[o++]){case"m":p=l[o++]*u+r,f=l[o++]*d,n.moveTo(p,f);break;case"l":p=l[o++]*u+r,f=l[o++]*d,n.lineTo(p,f);break;case"q":if(m=l[o++]*u+r,v=l[o++]*d,y=l[o++]*u+r,T=l[o++]*d,n.quadraticCurveTo(y,T,m,v),x=R[R.length-1])for(g=x.x,E=x.y,a=1,s=this.divisions;s>=a;a++){var H=a/s;THREE.Shape.Utils.b2(H,g,y,m),THREE.Shape.Utils.b2(H,E,T,v)}break;case"b":if(m=l[o++]*u+r,v=l[o++]*d,y=l[o++]*u+r,T=l[o++]*-d,_=l[o++]*u+r,b=l[o++]*-d,n.bezierCurveTo(m,v,y,T,_,b),x=R[R.length-1])for(g=x.x,E=x.y,a=1,s=this.divisions;s>=a;a++){var H=a/s;THREE.Shape.Utils.b3(H,g,y,_,m),THREE.Shape.Utils.b3(H,E,T,b,v)}}return{offset:w.ha*i,path:n}}}},THREE.FontUtils.generateShapes=function(e,t){t=t||{};var i=void 0!==t.size?t.size:100,r=void 0!==t.curveSegments?t.curveSegments:4,n=void 0!==t.font?t.font:"helvetiker",o=void 0!==t.weight?t.weight:"normal",a=void 0!==t.style?t.style:"normal";THREE.FontUtils.size=i,THREE.FontUtils.divisions=r,THREE.FontUtils.face=n,THREE.FontUtils.weight=o,THREE.FontUtils.style=a;for(var s=THREE.FontUtils.drawText(e),l=s.paths,c=[],h=0,u=l.length;u>h;h++)Array.prototype.push.apply(c,l[h].toShapes());return c},function(e){var t=1e-10,i=function(e,t){var i=e.length;if(3>i)return null;var o,a,s,l=[],c=[],h=[];if(r(e)>0)for(a=0;i>a;a++)c[a]=a;else for(a=0;i>a;a++)c[a]=i-1-a;var u=i,d=2*u;for(a=u-1;u>2;){if(d--<=0)return console.log("Warning, unable to triangulate polygon!"),t?h:l;if(o=a,o>=u&&(o=0),a=o+1,a>=u&&(a=0),s=a+1,s>=u&&(s=0),n(e,o,a,s,u,c)){var p,f,m,v,g;for(p=c[o],f=c[a],m=c[s],l.push([e[p],e[f],e[m]]),h.push([c[o],c[a],c[s]]),v=a,g=a+1;u>g;v++,g++)c[v]=c[g];u--,d=2*u}}return t?h:l},r=function(e){for(var t=e.length,i=0,r=t-1,n=0;t>n;r=n++)i+=e[r].x*e[n].y-e[n].x*e[r].y;return.5*i},n=function(e,i,r,n,o,a){var s,l,c,h,u,d,p,f,m;if(l=e[a[i]].x,c=e[a[i]].y,h=e[a[r]].x,u=e[a[r]].y,d=e[a[n]].x,p=e[a[n]].y,t>(h-l)*(p-c)-(u-c)*(d-l))return!1;var v,g,E,y,T,_,b,x,R,w,H,S,M,C,A;for(v=d-h,g=p-u,E=l-d,y=c-p,T=h-l,_=u-c,s=0;o>s;s++)if(s!==i&&s!==r&&s!==n&&(f=e[a[s]].x,m=e[a[s]].y,b=f-l,x=m-c,R=f-h,w=m-u,H=f-d,S=m-p,A=v*w-g*R,M=T*x-_*b,C=E*S-y*H,A>=0&&C>=0&&M>=0))return!1;return!0};return e.Triangulate=i,e.Triangulate.area=r,e}(THREE.FontUtils),self._typeface_js={faces:THREE.FontUtils.faces,loadFace:THREE.FontUtils.loadFace},THREE.typeface_js=self._typeface_js;