THREE.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){return this.faces[this.face][this.weight][this.style]},loadFace:function(e){var t=e.familyName.toLowerCase();var i=this;i.faces[t]=i.faces[t]||{};i.faces[t][e.cssFontWeight]=i.faces[t][e.cssFontWeight]||{};i.faces[t][e.cssFontWeight][e.cssFontStyle]=e;i.faces[t][e.cssFontWeight][e.cssFontStyle]=e;return e},drawText:function(e){var t,i=this.getFace(),r=this.size/i.resolution,n=0,o=String(e).split(""),a=o.length;var s=[];for(t=0;a>t;t++){var l=new THREE.Path;var c=this.extractGlyphPoints(o[t],i,r,n,l);n+=c.offset;s.push(c.path)}var h=n/2;return{paths:s,offset:h}},extractGlyphPoints:function(e,t,i,r,n){var o=[];var a,s,l,c,h,u,f,d,p,m,v,g,E,y,T,_,b,x,R,w=t.glyphs[e]||t.glyphs["?"];if(w){if(w.o){c=w._cachedOutline||(w._cachedOutline=w.o.split(" "));u=c.length;f=i;d=i;for(a=0;u>a;){h=c[a++];switch(h){case"m":p=c[a++]*f+r;m=c[a++]*d;n.moveTo(p,m);break;case"l":p=c[a++]*f+r;m=c[a++]*d;n.lineTo(p,m);break;case"q":v=c[a++]*f+r;g=c[a++]*d;T=c[a++]*f+r;_=c[a++]*d;n.quadraticCurveTo(T,_,v,g);R=o[o.length-1];if(R){E=R.x;y=R.y;for(s=1,l=this.divisions;l>=s;s++){var H=s/l;THREE.Shape.Utils.b2(H,E,T,v);THREE.Shape.Utils.b2(H,y,_,g)}}break;case"b":v=c[a++]*f+r;g=c[a++]*d;T=c[a++]*f+r;_=c[a++]*-d;b=c[a++]*f+r;x=c[a++]*-d;n.bezierCurveTo(v,g,T,_,b,x);R=o[o.length-1];if(R){E=R.x;y=R.y;for(s=1,l=this.divisions;l>=s;s++){var H=s/l;THREE.Shape.Utils.b3(H,E,T,b,v);THREE.Shape.Utils.b3(H,y,_,x,g)}}}}}return{offset:w.ha*i,path:n}}}};THREE.FontUtils.generateShapes=function(e,t){t=t||{};var i=void 0!==t.size?t.size:100;var r=void 0!==t.curveSegments?t.curveSegments:4;var n=void 0!==t.font?t.font:"helvetiker";var o=void 0!==t.weight?t.weight:"normal";var a=void 0!==t.style?t.style:"normal";THREE.FontUtils.size=i;THREE.FontUtils.divisions=r;THREE.FontUtils.face=n;THREE.FontUtils.weight=o;THREE.FontUtils.style=a;var s=THREE.FontUtils.drawText(e);var l=s.paths;var c=[];for(var h=0,u=l.length;u>h;h++)Array.prototype.push.apply(c,l[h].toShapes());return c};!function(e){var t=1e-10;var i=function(e,t){var i=e.length;if(3>i)return null;var o=[],a=[],s=[];var l,c,h;if(r(e)>0)for(c=0;i>c;c++)a[c]=c;else for(c=0;i>c;c++)a[c]=i-1-c;var u=i;var f=2*u;for(c=u-1;u>2;){if(f--<=0){console.log("Warning, unable to triangulate polygon!");if(t)return s;else return o}l=c;if(l>=u)l=0;c=l+1;if(c>=u)c=0;h=c+1;if(h>=u)h=0;if(n(e,l,c,h,u,a)){var d,p,m,v,g;d=a[l];p=a[c];m=a[h];o.push([e[d],e[p],e[m]]);s.push([a[l],a[c],a[h]]);for(v=c,g=c+1;u>g;v++,g++)a[v]=a[g];u--;f=2*u}}if(t)return s;else return o};var r=function(e){var t=e.length;var i=0;for(var r=t-1,n=0;t>n;r=n++)i+=e[r].x*e[n].y-e[n].x*e[r].y;return.5*i};var n=function(e,i,r,n,o,a){var s;var l,c,h,u;var f,d,p,m;l=e[a[i]].x;c=e[a[i]].y;h=e[a[r]].x;u=e[a[r]].y;f=e[a[n]].x;d=e[a[n]].y;if(t>(h-l)*(d-c)-(u-c)*(f-l))return!1;var v,g,E,y,T,_;var b,x,R,w,H,S;var M,C,A;v=f-h;g=d-u;E=l-f;y=c-d;T=h-l;_=u-c;for(s=0;o>s;s++)if(s!==i&&s!==r&&s!==n){p=e[a[s]].x;m=e[a[s]].y;b=p-l;x=m-c;R=p-h;w=m-u;H=p-f;S=m-d;A=v*w-g*R;M=T*x-_*b;C=E*S-y*H;if(A>=0&&C>=0&&M>=0)return!1}else;return!0};e.Triangulate=i;e.Triangulate.area=r;return e}(THREE.FontUtils);self._typeface_js={faces:THREE.FontUtils.faces,loadFace:THREE.FontUtils.loadFace};THREE.typeface_js=self._typeface_js;