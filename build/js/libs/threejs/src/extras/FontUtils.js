THREE.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){return this.faces[this.face][this.weight][this.style]},loadFace:function(e){var t=e.familyName.toLowerCase(),i=this;return i.faces[t]=i.faces[t]||{},i.faces[t][e.cssFontWeight]=i.faces[t][e.cssFontWeight]||{},i.faces[t][e.cssFontWeight][e.cssFontStyle]=e,i.faces[t][e.cssFontWeight][e.cssFontStyle]=e,e},drawText:function(e){var t,i=this.getFace(),r=this.size/i.resolution,o=0,n=String(e).split(""),a=n.length,s=[];for(t=0;a>t;t++){var l=new THREE.Path,c=this.extractGlyphPoints(n[t],i,r,o,l);o+=c.offset,s.push(c.path)}var h=o/2;return{paths:s,offset:h}},extractGlyphPoints:function(e,t,i,r,o){var n,a,s,l,c,h,u,d,p,f,m,v,g,E,y,T,_,b,x,R=[],w=t.glyphs[e]||t.glyphs["?"];if(w){if(w.o)for(l=w._cachedOutline||(w._cachedOutline=w.o.split(" ")),h=l.length,u=i,d=i,n=0;h>n;)switch(c=l[n++]){case"m":p=l[n++]*u+r,f=l[n++]*d,o.moveTo(p,f);break;case"l":p=l[n++]*u+r,f=l[n++]*d,o.lineTo(p,f);break;case"q":if(m=l[n++]*u+r,v=l[n++]*d,y=l[n++]*u+r,T=l[n++]*d,o.quadraticCurveTo(y,T,m,v),x=R[R.length-1])for(g=x.x,E=x.y,a=1,s=this.divisions;s>=a;a++){var H=a/s;THREE.Shape.Utils.b2(H,g,y,m),THREE.Shape.Utils.b2(H,E,T,v)}break;case"b":if(m=l[n++]*u+r,v=l[n++]*d,y=l[n++]*u+r,T=l[n++]*-d,_=l[n++]*u+r,b=l[n++]*-d,o.bezierCurveTo(m,v,y,T,_,b),x=R[R.length-1])for(g=x.x,E=x.y,a=1,s=this.divisions;s>=a;a++){var H=a/s;THREE.Shape.Utils.b3(H,g,y,_,m),THREE.Shape.Utils.b3(H,E,T,b,v)}}return{offset:w.ha*i,path:o}}}},THREE.FontUtils.generateShapes=function(e,t){t=t||{};var i=void 0!==t.size?t.size:100,r=void 0!==t.curveSegments?t.curveSegments:4,o=void 0!==t.font?t.font:"helvetiker",n=void 0!==t.weight?t.weight:"normal",a=void 0!==t.style?t.style:"normal";THREE.FontUtils.size=i,THREE.FontUtils.divisions=r,THREE.FontUtils.face=o,THREE.FontUtils.weight=n,THREE.FontUtils.style=a;for(var s=THREE.FontUtils.drawText(e),l=s.paths,c=[],h=0,u=l.length;u>h;h++)Array.prototype.push.apply(c,l[h].toShapes());return c},function(e){var t=1e-10,i=function(e,t){var i=e.length;if(3>i)return null;var n,a,s,l=[],c=[],h=[];if(r(e)>0)for(a=0;i>a;a++)c[a]=a;else for(a=0;i>a;a++)c[a]=i-1-a;var u=i,d=2*u;for(a=u-1;u>2;){if(d--<=0)return console.log("Warning, unable to triangulate polygon!"),t?h:l;if(n=a,n>=u&&(n=0),a=n+1,a>=u&&(a=0),s=a+1,s>=u&&(s=0),o(e,n,a,s,u,c)){var p,f,m,v,g;for(p=c[n],f=c[a],m=c[s],l.push([e[p],e[f],e[m]]),h.push([c[n],c[a],c[s]]),v=a,g=a+1;u>g;v++,g++)c[v]=c[g];u--,d=2*u}}return t?h:l},r=function(e){for(var t=e.length,i=0,r=t-1,o=0;t>o;r=o++)i+=e[r].x*e[o].y-e[o].x*e[r].y;return.5*i},o=function(e,i,r,o,n,a){var s,l,c,h,u,d,p,f,m;if(l=e[a[i]].x,c=e[a[i]].y,h=e[a[r]].x,u=e[a[r]].y,d=e[a[o]].x,p=e[a[o]].y,t>(h-l)*(p-c)-(u-c)*(d-l))return!1;var v,g,E,y,T,_,b,x,R,w,H,S,M,C,A;for(v=d-h,g=p-u,E=l-d,y=c-p,T=h-l,_=u-c,s=0;n>s;s++)if(s!==i&&s!==r&&s!==o&&(f=e[a[s]].x,m=e[a[s]].y,b=f-l,x=m-c,R=f-h,w=m-u,H=f-d,S=m-p,A=v*w-g*R,M=T*x-_*b,C=E*S-y*H,A>=0&&C>=0&&M>=0))return!1;return!0};return e.Triangulate=i,e.Triangulate.area=r,e}(THREE.FontUtils),self._typeface_js={faces:THREE.FontUtils.faces,loadFace:THREE.FontUtils.loadFace},THREE.typeface_js=self._typeface_js;