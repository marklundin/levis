define(["utils/easing"],function(){return function(e,t,i,r){function a(){if(r!=document)return{size:[r.offsetWidth,r.offsetHeight],offset:[r.offsetLeft,r.offsetTop]};else return{size:[window.innerWidth,window.innerHeight],offset:[0,0]}}i=i||20*t.getLength();r=r||document;var n,o=0,s=0,l=new THREE.Vector3,c=!1,h=new THREE.Vector3;document.addEventListener("mousemove",function(){var e=a();var t=e.size[0]/2;var i=e.size[1]/2;h.x=-(event.pageX-e.offset[0]-t)/t;h.y=(event.pageY-e.offset[1]-i)/i;h.z=-1;h.multiplyScalar(1e3,-1e3,1)});new THREE.Quaternion,new THREE.Quaternion,new THREE.Vector3,new THREE.Vector3;var u={update:function(r){o+=.001*r;s=o/i;o=o>i?i:o;if(s>=1&&n&&!c){c=!0;n()}if(1>=s){e.position.copy(t.getPointAt(s));l.copy(t.getTangentAt(s).add(e.position))}e.lookAt(l)},onComplete:function(e){n=e}};return u}});